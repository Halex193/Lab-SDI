<h2>Clients</h2>
<div class="error">{{errorMessage}}</div>
<span>Server-side: </span>
<label>Page:
  <input type="number" [(ngModel)]="page" (change)="getItems()" min="0">
</label>
<label>Sort:
  <select [(ngModel)]="sort" (change)="getItems()">
    <option value="id">Id</option>
    <option value="name">Name</option>
  </select>
</label>
<label>Order:
  <select [(ngModel)]="order" (change)="getItems()">
    <option value="asc">Ascending</option>
    <option value="desc">Descending</option>
  </select>
</label>
<label>Filter:
  <input type="text" [(ngModel)]="filter" (keyup)="getItems()">
</label>
<br/>
<span>Client-side: </span>
<label>Sort:
  <select [(ngModel)]="sort2" (change)="getItems()">
    <option value=""></option>
    <option value="id">Id</option>
    <option value="name">Name</option>
  </select>
</label>
<label>Order:
  <select [(ngModel)]="order2" (change)="getItems()">
    <option value="asc">Ascending</option>
    <option value="desc">Descending</option>
  </select>
</label>
<label>Filter:
  <input type="text" [(ngModel)]="filter2" (keyup)="getItems()">
</label>
<ul>
  <li *ngFor="let client of items"
      (click)="onSelect(client)">
    Id:{{client.id}} | Name:{{client.name}}
    <button
      [class.delete]="true"
      (click)="delete(client);$event.stopPropagation()">X
    </button>
  </li>

</ul>
<button
  (click)="update();$event.stopPropagation()">Update
</button>
<button
  (click)="add();$event.stopPropagation()">Add
</button>
<div *ngIf="formItem">

  <div>
    <label>Id:
      <input type="number" [(ngModel)]="formItem.id" placeholder="Id" required min="0"
             #id="ngModel">
    </label>
  </div>

  <div *ngIf="id.invalid && (id.dirty || id.touched)" class="validation-error">

    <div *ngIf="id.errors.required">
      Id is required.
    </div>
    <div *ngIf="id.errors.min">
      Id must be minimum 0
    </div>
  </div>


  <div>
    <label>Name:
      <input [(ngModel)]="formItem.name" placeholder="Name" required pattern="[a-zA-Z]*"
             #name="ngModel"/>
    </label>
  </div>

  <div *ngIf="name.invalid && (name.dirty || name.touched)" class="validation-error">

    <div *ngIf="name.errors.required">
      Name is required.
    </div>
    <div *ngIf="name.errors.pattern">
      Name must contain only letters
    </div>
  </div>
</div>
